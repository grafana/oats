networks:
    default:
        driver: bridge
        ipam:
            config:
                - subnet: 172.16.57.0/24
services:
    grafana:
        image: grafana/grafana:12.3.1@sha256:2175aaa91c96733d86d31cf270d5310b278654b03f5718c59de12a865380a31f
        network_mode: host
        volumes:
            - ./configs/grafana-datasources.yaml:/etc/grafana/provisioning/datasources/grafana-datasources.yaml
    mongodb:
        image: mongo:7-jammy
        logging:
            driver: json-file
            options:
                max-file: "2"
                max-size: 5m
        ports:
            - 27017:27017
        volumes:
            - dbdata6:/data/db
version: "3.9"
volumes:
    dbdata6: null
x-default-logging:
    driver: json-file
    options:
        max-file: "2"
        max-size: 5m
